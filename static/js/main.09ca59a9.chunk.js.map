{"version":3,"sources":["components/Reducer.js","components/NewImage.js","components/NewText.js","components/View.js","components/Picker.js","components/SizeView.js","components/PaletteSwitch.js","components/AddImage.js","components/TextBlock.js","components/Download.js","components/Layout.js","index.js"],"names":["ContextApp","createContext","initialState","palette","offset","color","gradient","angle","sizeView","images","textObj","text","fontSize","width","fill","fontStyle","reducer","state","action","type","value","Error","NewImage","imageProps","isSelected","onSelect","onChange","useState","image","setImage","imageRef","useRef","trRef","useEffect","handleLoad","newImage","window","Image","addEventListener","src","crossOrigin","removeEventListener","current","nodes","moveToTop","getLayer","batchDraw","onClick","onTap","ref","draggable","onDragEnd","e","node","x","y","onTransformEnd","scaleX","scaleY","Math","max","height","boundBoxFunc","oldBox","newBox","NewText","textProps","textRef","onTransform","View","innerRef","useContext","dispatch","selectedId","selectImage","selectedText","selectText","checkDeselect","target","getStage","children","className","onMouseDown","onTouchStart","fillLinearGradientStartPoint","cos","PI","sin","fillLinearGradientEndPoint","fillLinearGradientColorStops","reduce","prev","v","push","map","i","newAttrs","imgs","slice","rgbToRgba","rgb","a","replace","WrappedSketchPicker","rest","opacity","c","r","g","b","Picker","paletteHeight","onPaletteChange","Typography","setAngle","SizeView","widthRef","heightRef","Grid","container","alignItems","item","TextField","label","size","variant","defaultValue","InputProps","inputRef","endAdornment","InputAdornment","position","InputLabelProps","shrink","Clear","AntSwitch","withStyles","theme","root","padding","display","switchBase","primary","main","transform","grey","backgroundColor","thumb","boxShadow","track","borderRadius","checked","Switch","PaletteSwitch","component","event","AddImage","imageURLRef","Button","TextBlock","spacing","FormControl","InputLabel","Select","native","Download","stage","setValue","open","setOpen","divRef","Paper","square","direction","RadioGroup","FormControlLabel","control","Radio","navigator","clipboard","writeText","toJSON","then","val","join","background","wrap","document","createElement","html","style","cssText","innerHTML","forEach","img","appendChild","downloadHTML","uri","name","link","download","href","body","click","removeChild","downloadURI","toDataURL","Snackbar","anchorOrigin","vertical","horizontal","autoHideDuration","onClose","reason","message","IconButton","Close","Layout","useReducer","stageRef","Provider","Accordion","AccordionSummary","AccordionDetails","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.09ca59a9.chunk.js","sourcesContent":["import { createContext } from 'react';\n\nexport const ContextApp = createContext(null);\n\nexport const initialState = {\n    palette: [\n        { offset: '0.00', color: 'rgb(238, 241, 11)' },\n        { offset: '0.50', color: 'rgb(215, 128, 37)' },\n    ],\n    color: 'rgb(255, 255, 255)',\n    gradient: false,\n    angle: 0,\n    sizeView: [141, 188],\n    images: [],\n    textObj: { text: 'Lorem ipsum dolor sit amet consectetur adipisicing elit. Molestiae, magnam!', fontSize: 20, width: 141, fill: '#000', fontStyle: 'bold' },\n};\n\nexport const reducer = (state, action) => {\n    switch (action.type) {\n        case 'setPalette':\n            return { ...state, palette: action.value };\n        case 'setAngle':\n            return { ...state, angle: action.value };\n        case 'setSizeView':\n            return { ...state, sizeView: action.value };\n        case 'togglePicker':\n            return { ...state, gradient: action.value };\n        case 'setColor':\n            return { ...state, color: action.value };\n        case 'setImages':\n            return { ...state, images: action.value };\n        case 'setTextObj':\n            return { ...state, textObj: action.value };\n        default:\n            throw new Error();\n    }\n}","import React, { useEffect, useRef, useState } from 'react';\nimport { Image, Transformer } from 'react-konva';\n\nconst NewImage = ({ imageProps, isSelected, onSelect, onChange }) => {\n\n\tconst [image, setImage] = useState(null);\n\tconst imageRef = useRef();\n\tconst trRef = useRef();\n\n\tuseEffect(() => {\n\n\t\tconst handleLoad = () => {\n\t\t\tsetImage(newImage);\n\t\t};\n\n\t\tlet newImage = new window.Image();\n\t\tnewImage.addEventListener('load', handleLoad);\n\t\tnewImage.src = imageProps.src;\n\t\tnewImage.crossOrigin = 'anonymous';\n\n\t\treturn (() => {\n\t\t\tnewImage.removeEventListener('load', handleLoad)\n\t\t});\n\n\t}, [imageProps.src]);\n\n\tuseEffect(() => {\n\n\t\tif (isSelected) {\n\t\t\ttrRef.current.nodes([imageRef.current]);\n\t\t\ttrRef.current.moveToTop();\n\t\t\timageRef.current.moveToTop();\n\t\t\ttrRef.current.getLayer().batchDraw();\n\t\t}\n\n\t}, [isSelected]);\n\n\treturn (\n\t\t<>\n\t\t\t<Image\n\t\t\t\tonClick={onSelect}\n\t\t\t\tonTap={onSelect}\n\t\t\t\tref={imageRef}\n\t\t\t\timage={image}\n\t\t\t\t{...imageProps}\n\t\t\t\tdraggable\n\t\t\t\tonDragEnd={(e) => {\n\t\t\t\t\tconst node = imageRef.current;\n\n\t\t\t\t\tonChange({\n\t\t\t\t\t\t...imageProps,\n\t\t\t\t\t\tx: node.x(),\n\t\t\t\t\t\ty: node.y(),\n\t\t\t\t\t});\n\t\t\t\t}}\n\t\t\t\tonTransformEnd={(e) => {\n\t\t\t\t\tconst node = imageRef.current;\n\t\t\t\t\tconst scaleX = node.scaleX();\n\t\t\t\t\tconst scaleY = node.scaleY();\n\n\t\t\t\t\tnode.scaleX(1);\n\t\t\t\t\tnode.scaleY(1);\n\t\t\t\t\tonChange({\n\t\t\t\t\t\t...imageProps,\n\t\t\t\t\t\tx: node.x(),\n\t\t\t\t\t\ty: node.y(),\n\n\t\t\t\t\t\twidth: Math.max(5, node.width() * scaleX),\n\t\t\t\t\t\theight: Math.max(5, node.height() * scaleY),\n\t\t\t\t\t});\n\t\t\t\t}}\n\t\t\t/>\n\t\t\t{isSelected && (\n\t\t\t\t<Transformer\n\t\t\t\t\tref={trRef}\n\t\t\t\t\tboundBoxFunc={(oldBox, newBox) => {\n\n\t\t\t\t\t\tif (newBox.width < 5 || newBox.height < 5) {\n\t\t\t\t\t\t\treturn oldBox;\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn newBox;\n\t\t\t\t\t}}\n\t\t\t\t/>\n\t\t\t)}\n\t\t</>\n\t);\n};\n\nexport default NewImage;","import React, { useEffect, useRef } from 'react';\nimport { Text, Transformer } from 'react-konva';\n\nconst NewText = ({ textProps, isSelected, onSelect, onChange }) => {\n\n\tconst textRef = useRef();\n\tconst trRef = useRef();\n\n\tuseEffect(() => {\n\n\t\tif (isSelected) {\n\t\t\ttrRef.current.nodes([textRef.current]);\n\t\t\ttrRef.current.moveToTop();\n\t\t\ttextRef.current.moveToTop();\n\t\t\ttrRef.current.getLayer().batchDraw();\n\t\t}\n\n\t}, [isSelected]);\n\n\treturn (\n\t\t<>\n\t\t\t<Text\n\t\t\t\tonClick={onSelect}\n\t\t\t\tonTap={onSelect}\n\t\t\t\tref={textRef}\n\t\t\t\t{...textProps}\n\t\t\t\tdraggable\n\t\t\t\tonDragEnd={(e) => {\n\t\t\t\t\tconst node = textRef.current;\n\t\t\t\t\tonChange({\n\t\t\t\t\t\t...textProps,\n\t\t\t\t\t\tx: node.x(),\n\t\t\t\t\t\ty: node.y(),\n\t\t\t\t\t});\n\t\t\t\t}}\n\t\t\t\tonTransform={(e) => {\n\t\t\t\t\tconst node = textRef.current;\n\t\t\t\t\tconst scaleX = node.scaleX();\n\t\t\t\t\tconst scaleY = node.scaleY();\n\n\t\t\t\t\tnode.scaleX(1);\n\t\t\t\t\tnode.scaleY(1);\n\t\t\t\t\tonChange({\n\t\t\t\t\t\t...textProps,\n\t\t\t\t\t\tx: node.x(),\n\t\t\t\t\t\ty: node.y(),\n\t\t\t\t\t\twidth: Math.max(5, node.width() * scaleX),\n\t\t\t\t\t\theight: Math.max(5, node.height() * scaleY),\n\t\t\t\t\t});\n\t\t\t\t}}\n\t\t\t/>\n\t\t\t{isSelected && (\n\t\t\t\t<Transformer\n\t\t\t\t\tref={trRef}\n\t\t\t\t\tboundBoxFunc={(oldBox, newBox) => {\n\t\t\t\t\t\tif (newBox.width < 5 || newBox.height < 5) {\n\t\t\t\t\t\t\treturn oldBox;\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn newBox;\n\t\t\t\t\t}}\n\t\t\t\t/>\n\t\t\t)}\n\t\t</>\n\t);\n};\n\nexport default NewText;","import React, { useState, useContext } from 'react';\nimport { Stage, Layer, Rect } from 'react-konva';\n\nimport { ContextApp } from './Reducer';\n\nimport NewImage from './NewImage';\nimport NewText from './NewText';\n\nimport './styles/canvas.css';\n\nconst View = ({ innerRef }) => {\n\n\tconst { state: { palette, color, gradient, angle, sizeView: [width, height], images, textObj }, dispatch } = useContext(ContextApp);\n\n\tconst [selectedId, selectImage] = useState(null);\n\tconst [selectedText, selectText] = useState(false);\n\n\tconst checkDeselect = (e) => {\n\t\tconst clickedOnEmpty = e.target === e.target.getStage().children[0].children[0];\n\t\tif (clickedOnEmpty) {\n\t\t\tselectImage(null);\n\t\t\tselectText(false);\n\t\t}\n\t};\n\n\treturn (\n\t\t<Stage\n\t\t\tclassName=\"stage\"\n\t\t\tref={innerRef}\n\t\t\twidth={width}\n\t\t\theight={height}\n\t\t\tonMouseDown={checkDeselect}\n\t\t\tonTouchStart={checkDeselect}\n\t\t>\n\t\t\t<Layer>\n\t\t\t\t{gradient ?\n\t\t\t\t\t<Rect\n\t\t\t\t\t\twidth={width}\n\t\t\t\t\t\theight={height}\n\t\t\t\t\t\tfillLinearGradientStartPoint={{ x: width / 2 + (width / 2) * Math.cos((Math.PI * (angle + 90)) / 180), y: height / 2 + (height / 2) * Math.sin((Math.PI * (angle + 90)) / 180) }}\n\t\t\t\t\t\tfillLinearGradientEndPoint={{ x: width / 2 + (width / 2) * Math.cos((Math.PI * (angle - 90)) / 180), y: height / 2 + (height / 2) * Math.sin((Math.PI * (angle - 90)) / 180) }}\n\t\t\t\t\t\tfillLinearGradientColorStops={palette.reduce((prev, v) => { prev.push(v.offset, v.color); return prev; }, [])}\n\t\t\t\t\t/>\n\t\t\t\t\t:\n\t\t\t\t\t<Rect\n\t\t\t\t\t\twidth={width}\n\t\t\t\t\t\theight={height}\n\t\t\t\t\t\tfillLinearGradientStartPoint={{ x: 0, y: 0 }}\n\t\t\t\t\t\tfillLinearGradientEndPoint={{ x: width, y: height }}\n\t\t\t\t\t\tfillLinearGradientColorStops={['0', color, '1', color]}\n\t\t\t\t\t/>\n\t\t\t\t}\n\t\t\t\t{\n\t\t\t\t\timages.map((image, i) => (\n\t\t\t\t\t\t<NewImage\n\t\t\t\t\t\t\tkey={i}\n\t\t\t\t\t\t\timageProps={image}\n\t\t\t\t\t\t\tisSelected={i === selectedId}\n\t\t\t\t\t\t\tonSelect={() => {\n\t\t\t\t\t\t\t\tselectImage(i);\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tonChange={(newAttrs) => {\n\t\t\t\t\t\t\t\tconst imgs = images.slice();\n\t\t\t\t\t\t\t\timgs[i] = newAttrs;\n\t\t\t\t\t\t\t\tdispatch({ type: 'setImages', value: imgs });\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t))\n\t\t\t\t}\n\t\t\t\t<NewText\n\t\t\t\t\ttextProps={textObj}\n\t\t\t\t\tisSelected={selectedText}\n\t\t\t\t\tonSelect={() => {\n\t\t\t\t\t\tselectText(!selectedText)\n\t\t\t\t\t}}\n\t\t\t\t\tonChange={(newAttrs) => {\n\t\t\t\t\t\tdispatch({ type: 'setTextObj', value: newAttrs });\n\t\t\t\t\t}} />\n\t\t\t</Layer>\n\t\t</Stage>\n\t);\n};\n\nexport default View;","import React, { useContext } from 'react';\n\nimport { ContextApp } from \"./Reducer\";\n\nimport { GradientPicker, AnglePicker } from \"react-linear-gradient-picker\";\nimport { SketchPicker } from 'react-color';\nimport { Typography } from '@material-ui/core';\n\nconst rgbToRgba = (rgb, a = 1) => rgb.replace('rgb(', 'rgba(').replace(')', `, ${a})`);\nconst WrappedSketchPicker = ({ onSelect, ...rest }) => (\n    <SketchPicker {...rest}\n        color={rgbToRgba(rest.color, rest.opacity)}\n        onChange={c => {\n            const { r, g, b, a } = c.rgb;\n            onSelect(`rgba(${r}, ${g}, ${b}, ${a})`);\n        }}\n    />\n);\n\nconst Picker = () => {\n\n    const { state: { palette, color, gradient, angle }, dispatch } = useContext(ContextApp);\n\n    return (\n        <>\n            { gradient ?\n                <>\n                    <GradientPicker\n                        width={320}\n                        paletteHeight={32}\n                        palette={palette}\n                        onPaletteChange={(palette) => { dispatch({ type: 'setPalette', value: palette }) }}\n                    >\n                        <WrappedSketchPicker />\n                    </GradientPicker>\n                    <Typography>Angle: </Typography>\n                    <AnglePicker angle={angle} setAngle={(angle) => { dispatch({ type: 'setAngle', value: angle }); }} />\n                </>\n                :\n                <SketchPicker color={color} onChange={(color) => { const { r, g, b, a } = color.rgb; dispatch({ type: 'setColor', value: `rgba(${r}, ${g}, ${b}, ${a})` }) }} />\n            }\n        </>\n    );\n}\n\nexport default Picker;","import React, { useRef, useContext } from 'react';\n\nimport { ContextApp } from \"./Reducer\";\n\nimport { TextField, InputAdornment, Grid } from '@material-ui/core';\nimport { Clear } from \"@material-ui/icons\";\n\nconst SizeView = () => {\n\n    const { state: { sizeView: [width, height] }, dispatch } = useContext(ContextApp);\n\n    const widthRef = useRef();\n    const heightRef = useRef();\n\n    return (\n        <Grid container alignItems=\"center\">\n            <Grid item>\n                <TextField\n                    label=\"Width\"\n                    type=\"number\"\n                    size=\"small\"\n                    variant=\"outlined\"\n                    defaultValue={width}\n                    InputProps={{\n                        inputRef: widthRef,\n                        endAdornment: <InputAdornment position=\"end\">Px</InputAdornment>,\n                    }}\n                    InputLabelProps={{\n                        shrink: true,\n                    }}\n                    onChange={(e) => {\n                        dispatch({ type: 'setSizeView', value: [+e.target.value, +heightRef.current.value] });\n                    }}\n                />\n            </Grid>\n            <Grid item>\n                <Clear />\n            </Grid>\n            <Grid item>\n                <TextField\n                    label=\"Height\"\n                    type=\"number\"\n                    size=\"small\"\n                    variant=\"outlined\"\n                    defaultValue={height}\n                    InputProps={{\n                        inputRef: heightRef,\n                        endAdornment: <InputAdornment position=\"end\">Px</InputAdornment>,\n                    }}\n                    InputLabelProps={{\n                        shrink: true,\n                    }}\n                    onChange={(e) => {\n                        dispatch({ type: 'setSizeView', value: [+widthRef.current.value, +e.target.value] });\n                    }}\n                />\n            </Grid>\n        </Grid>\n    )\n}\n\nexport default SizeView;","import React, { useContext } from 'react';\n\nimport { ContextApp } from './Reducer';\n\nimport { withStyles, Switch, Typography, Grid } from '@material-ui/core';\n\nconst AntSwitch = withStyles((theme) => ({\n\troot: {\n\t\twidth: 36,\n\t\theight: 18,\n\t\tpadding: 0,\n\t\tdisplay: 'flex',\n\t},\n\tswitchBase: {\n\t\tpadding: 3,\n\t\tcolor: theme.palette.primary.main,\n\t\t'&$checked': {\n\t\t\ttransform: 'translateX(18px)',\n\t\t\tcolor: theme.palette.grey[100],\n\t\t\t'& + $track': {\n\t\t\t\topacity: 1,\n\t\t\t\tbackgroundColor: theme.palette.primary.main,\n\t\t\t},\n\t\t},\n\t},\n\tthumb: {\n\t\twidth: 12,\n\t\theight: 12,\n\t\tboxShadow: 'none',\n\t},\n\ttrack: {\n\t\tborderRadius: 16 / 2,\n\t\topacity: 1,\n\t\tbackgroundColor: theme.palette.grey[100],\n\t},\n\tchecked: {},\n}))(Switch);\n\n\nconst PaletteSwitch = () => {\n\n\tconst { state: { gradient }, dispatch } = useContext(ContextApp);\n\n\treturn (\n\t\t<Typography component=\"div\">\n\t\t\t<Grid container alignItems=\"center\" >\n\t\t\t\t<Grid item>Color</Grid>\n\t\t\t\t<Grid item>\n\t\t\t\t\t<AntSwitch onChange={(event) => { dispatch({ type: 'togglePicker', value: !gradient }); }} checked={gradient} />\n\t\t\t\t</Grid>\n\t\t\t\t<Grid item>Gradient</Grid>\n\t\t\t</Grid>\n\t\t</Typography>\n\t);\n}\n\nexport default PaletteSwitch;","import React, { useContext, useRef } from 'react';\n\nimport { ContextApp } from \"./Reducer\";\n\nimport { TextField, Button, Grid } from '@material-ui/core';\n\nconst AddImage = () => {\n\n    const { state: { images }, dispatch } = useContext(ContextApp);\n\n    const imageURLRef = useRef();\n\n    return (\n        <div>\n            <Grid container alignItems=\"center\">\n                <Grid item>\n                    <TextField\n                        label=\"ImageURL / DataURI\"\n                        type=\"text\"\n                        size=\"small\"\n                        variant=\"outlined\"\n                        InputProps={{\n                            inputRef: imageURLRef,\n                        }}\n                        InputLabelProps={{\n                            shrink: true,\n                        }}\n                    />\n                </Grid>\n                <Grid item>\n                    <Button variant=\"contained\" size=\"large\" onClick={() => { dispatch({ type: 'setImages', value: [...images, { src: imageURLRef.current.value }] }); imageURLRef.current.value = ''; }}>Add Image</Button>\n                </Grid>\n            </Grid>\n        </div>\n    )\n}\n\nexport default AddImage;","import React, { useContext } from 'react';\n\nimport { ContextApp } from \"./Reducer\";\nimport { SketchPicker } from 'react-color';\n\nimport { TextField, Grid, FormControl, InputLabel, Select, Typography } from '@material-ui/core';\n\nconst TextBlock = () => {\n\n\tconst { state: { textObj }, dispatch } = useContext(ContextApp);\n\n\treturn (\n\t\t<div>\n\t\t\t<Grid container alignItems=\"center\" spacing={2}>\n\t\t\t\t<Grid item>\n\t\t\t\t\t<TextField\n\t\t\t\t\t\tlabel=\"Text\"\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\tdefaultValue={textObj.text}\n\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\tInputLabelProps={{\n\t\t\t\t\t\t\tshrink: true,\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\t\tdispatch({ type: 'setTextObj', value: { ...textObj, text: e.target.value } });\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t</Grid>\n\t\t\t\t<Grid item>\n\t\t\t\t\t<TextField\n\t\t\t\t\t\tlabel=\"FontSize\"\n\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\tdefaultValue={textObj.fontSize}\n\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\tInputLabelProps={{\n\t\t\t\t\t\t\tshrink: true,\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\t\tdispatch({ type: 'setTextObj', value: { ...textObj, fontSize: +e.target.value } });\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t</Grid>\n\t\t\t\t<Grid item>\n\t\t\t\t\t<Typography>FontColor</Typography>\n\t\t\t\t\t<SketchPicker color={textObj.fill} onChange={(color) => { const { r, g, b, a } = color.rgb; dispatch({ type: 'setTextObj', value: { ...textObj, fill: `rgba(${r}, ${g}, ${b}, ${a})` } }) }} />\n\t\t\t\t</Grid>\n\t\t\t\t<Grid item>\n\t\t\t\t\t<FormControl variant=\"outlined\">\n\t\t\t\t\t\t<InputLabel>FontStyle</InputLabel>\n\t\t\t\t\t\t<Select\n\t\t\t\t\t\t\tnative\n\t\t\t\t\t\t\tvalue={textObj.fontStyle}\n\t\t\t\t\t\t\tonChange={(e) => { dispatch({ type: 'setTextObj', value: { ...textObj, fontStyle: e.target.value } }); }}\n\t\t\t\t\t\t\tlabel=\"FontStyle\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<option value='bold'>Bold</option>\n\t\t\t\t\t\t\t<option value='normal'>Normal</option>\n\t\t\t\t\t\t\t<option value='italic'>Italic</option>\n\t\t\t\t\t\t</Select>\n\t\t\t\t\t</FormControl>\n\t\t\t\t</Grid>\n\n\t\t\t</Grid>\n\t\t</div>\n\t)\n}\n\nexport default TextBlock;","import React, { useContext, useRef, useState } from 'react';\n\nimport { ContextApp } from \"./Reducer\";\n\nimport { Button, Grid, RadioGroup, FormControlLabel, Radio, Snackbar, IconButton, Paper } from '@material-ui/core';\nimport { Close } from \"@material-ui/icons\";\n\nfunction downloadURI(uri, name) {\n\tlet link = document.createElement('a');\n\tlink.download = name;\n\tlink.href = uri;\n\tdocument.body.appendChild(link);\n\tlink.click();\n\tdocument.body.removeChild(link);\n}\nfunction downloadHTML(width, height, gradient, angle, palette, color, textObj, images) {\n\tpalette = palette.map((val) => `${val.color} ${val.offset * 100}%`).join(', ');\n\tconst background = gradient ? `linear-gradient(${angle}deg,  ${palette})` : color;\n\n\tlet wrap = document.createElement('div');\n\n\tlet html = document.createElement('div');\n\thtml.style.cssText = `\n\t\tposition: relative;\n\t\twidth: ${width}px;\n\t\theight: ${height}px;\n\t\tbackground: ${background};\n\t\toverflow: hidden;\n\t`;\n\n\tlet text = document.createElement('div');\n\ttext.style.cssText = `\n\t\tposition: absolute;\n\t\ttop: ${textObj.y ? textObj.y : 0}px;\n\t\tleft: ${textObj.x ? textObj.x : 0}px;\n\t\twidth: ${textObj.width}px;\n\t\theight: ${textObj.height}px;\n\t\tcolor: ${textObj.fill};\n\t\tfont-size: ${textObj.fontSize}px;\n\t\tfont-weight: ${textObj.fontStyle === 'bold' ? textObj.fontStyle : 'normal'};\n\t\tfont-style: ${textObj.fontStyle === 'italic' ? textObj.fontStyle : 'normal'};\n\t\tword-break: break-word;\n\t\tline-height: 1;\n\t\toverflow: hidden;\n\t`;\n\ttext.innerHTML = textObj.text;\n\n\timages.forEach((image) => {\n\t\tlet img = document.createElement('img');\n\t\timg.style.cssText = `\n\t\t\tposition: absolute;\n\t\t\ttop: ${image.y ? image.y : 0}px;\n\t\t\tleft: ${image.x ? image.x : 0}px;\n\t\t\twidth: ${image.width}px;\n\t\t\theight: ${image.height}px;\n\t\t`;\n\t\timg.src = image.src;\n\t\thtml.appendChild(img);\n\t});\n\n\n\n\thtml.appendChild(text);\n\n\twrap.appendChild(html);\n\treturn wrap.innerHTML;\n}\n\n\nconst Download = ({ stage }) => {\n\n\tconst { state: { angle, gradient, palette, color, sizeView: [width, height], textObj, images } } = useContext(ContextApp);\n\n\tconst [value, setValue] = useState('json');\n\tconst [open, setOpen] = useState(false);\n\n\tconst divRef = useRef();\n\n\treturn (\n\t\t<>\n\t\t\t<Paper square>\n\t\t\t\t<Grid container direction=\"row\" alignItems=\"center\">\n\t\t\t\t\t<Grid item>\n\t\t\t\t\t\t<RadioGroup value={value} onChange={(e) => { setValue(e.target.value) }}>\n\t\t\t\t\t\t\t<FormControlLabel value=\"json\" control={<Radio />} label=\"JSON\" />\n\t\t\t\t\t\t\t<FormControlLabel value=\"html\" control={<Radio />} label=\"HTML\" />\n\t\t\t\t\t\t\t<FormControlLabel value=\"image\" control={<Radio />} label=\"Image\" />\n\t\t\t\t\t\t</RadioGroup>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item>\n\t\t\t\t\t\t<Button variant=\"contained\" size=\"large\" onClick={() => {\n\t\t\t\t\t\t\tswitch (value) {\n\t\t\t\t\t\t\t\tcase 'json':\n\t\t\t\t\t\t\t\t\tnavigator.clipboard.writeText(stage.current.toJSON()).then(() => {\n\t\t\t\t\t\t\t\t\t\tsetOpen(true);\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\tcase 'html':\n\t\t\t\t\t\t\t\t\tnavigator.clipboard.writeText(downloadHTML(width, height, gradient, angle, palette, color, textObj, images));\n\t\t\t\t\t\t\t\t\tsetOpen(true);\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\tcase 'image':\n\t\t\t\t\t\t\t\t\tconst uri = stage.current.toDataURL();\n\t\t\t\t\t\t\t\t\tdownloadURI(uri, 'image.png');\n\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}}>Download</Button>\n\t\t\t\t\t</Grid>\n\t\t\t\t</Grid>\n\t\t\t</Paper>\n\t\t\t<div ref={divRef}></div>\n\t\t\t<Snackbar\n\t\t\t\tanchorOrigin={{\n\t\t\t\t\tvertical: 'bottom',\n\t\t\t\t\thorizontal: 'center',\n\t\t\t\t}}\n\t\t\t\topen={open}\n\t\t\t\tautoHideDuration={1500}\n\t\t\t\tonClose={(event, reason) => {\n\t\t\t\t\tif (reason === 'clickaway') {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tsetOpen(false);\n\t\t\t\t}}\n\t\t\t\tmessage={'Copy to clipboard !!!'}\n\t\t\t\taction={\n\t\t\t\t\t<>\n\t\t\t\t\t\t<IconButton size=\"small\" color=\"inherit\" onClick={(event, reason) => {\n\t\t\t\t\t\t\tif (reason === 'clickaway') {\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tsetOpen(false);\n\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t<Close fontSize=\"small\" />\n\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t</>\n\t\t\t\t}\n\t\t\t/>\n\t\t</>\n\t)\n}\n\nexport default Download;","import React, { useReducer, useRef } from 'react';\n\nimport { ContextApp, initialState, reducer } from \"./Reducer\";\n\nimport { Accordion, AccordionSummary, Typography, AccordionDetails, Grid } from \"@material-ui/core\";\n\nimport View from './View';\nimport Picker from './Picker';\nimport SizeView from './SizeView';\nimport PaletteSwitch from './PaletteSwitch';\nimport AddImage from './AddImage';\nimport TextBlock from './TextBlock';\nimport Download from './Download';\n\nconst Layout = () => {\n\n    const [state, dispatch] = useReducer(reducer, initialState);\n    const stageRef = useRef();\n\n    return (\n        <>\n            <ContextApp.Provider value={{ state, dispatch }}>\n                <View innerRef={stageRef} />\n                <Accordion>\n                    <AccordionSummary>\n                        <Typography>Size</Typography>\n                    </AccordionSummary>\n                    <AccordionDetails>\n                        <SizeView />\n                    </AccordionDetails>\n                </Accordion>\n                <Accordion>\n                    <AccordionSummary>\n                        <Typography>Background</Typography>\n                    </AccordionSummary>\n                    <AccordionDetails>\n                        <Grid container direction=\"column\" alignItems=\"flex-start\">\n                            <Grid item>\n                                <PaletteSwitch />\n                            </Grid>\n                            <Grid container alignItems=\"center\">\n                                <Picker />\n                            </Grid>\n                        </Grid>\n                    </AccordionDetails>\n                </Accordion>\n                <Accordion>\n                    <AccordionSummary>\n                        <Typography>Image</Typography>\n                    </AccordionSummary>\n                    <AccordionDetails>\n                        <AddImage />\n                    </AccordionDetails>\n                </Accordion>\n                <Accordion>\n                    <AccordionSummary>\n                        <Typography>Text</Typography>\n                    </AccordionSummary>\n                    <AccordionDetails>\n                        <TextBlock />\n                    </AccordionDetails>\n                </Accordion>\n                <Download stage={stageRef} />\n            </ContextApp.Provider>\n        </>\n    );\n}\n\nexport default Layout;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport Layout from './components/Layout';\n\nimport './index.css';\n\nReactDOM.render(\n  <Layout />,\n  document.getElementById('root')\n);"],"sourceRoot":""}